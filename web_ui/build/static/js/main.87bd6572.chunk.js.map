{"version":3,"sources":["App.js","index.js","style.module.css"],"names":["App","useState","valid_ingredient_list","setIngredients","ingredients_query_string_for_api","users_selected_ingredients_array","updateUsersSelectedIngredients","recipe_results_from_api","setRecipes","users_maximum_ingredients","useEffect","getvalidingredientapiresponse","a","fetch","apiresponse","json","validingredientapiresponse","Ingredients","options","map","option","value","label","e","join","getrecipeapiresponse","url","data","Recipes","ShowRecipePopup","document","getElementById","target","id","style","display","CloseRecipePopup","Recipe_result","recipeID","ingredientMatches","title","ingredientCount","ingredients","servings","method","image","ingredientsForPopup","replace","i","Card","className","recipe","Body","Title","Img","recipe_picture","src","Text","Button","onClick","modal","modalcontent","close","recipe_popup_title","dangerouslySetInnerHTML","__html","Top_Bar","logo_text","wizard_logo_text","help_text","Form","filterOption","createFilter","ignoreAccents","components","DropdownIndicator","IndicatorSeparator","isMulti","IngredientsSelector","onChange","autoFocus","placeholder","MaxIngredientsSelectorContainer","htmlFor","recipe_complexity_text","type","MaxIngredientsSelector","defaultValue","min","max","console","log","Recipes_Area","index","string","ReactDOM","render","StrictMode","module","exports"],"mappings":"iQAwJeA,MAhJf,WAGE,MAAgDC,mBAAS,IAAzD,mBAAOC,EAAP,KAA8BC,EAA9B,KACIC,EAAmC,GACvC,EAAyEH,mBAAS,IAAlF,mBAAKI,EAAL,KAAuCC,EAAvC,KACA,EAA8CL,mBAAS,IAAvD,mBAAOM,EAAP,KAAgCC,EAAhC,KACIC,EAA2B,GAE/BC,qBAAU,WAAOC,MAAmC,IACpD,IAAMA,EAA6B,uCAAG,8BAAAC,EAAA,sEACZC,MAAM,mDADM,cAChCC,EADgC,gBAEKA,EAAYC,OAFjB,OAE9BC,EAF8B,OAGpCb,EAAea,EAA2BC,aAHN,2CAAH,qDAK/BC,EAAUhB,EAAsBiB,KAAI,SAAAC,GAAM,MAAK,CAACC,MAAOD,EAAOE,MAAOF,MAEzEV,qBAAU,WACgC,GAApCL,IACFD,EAAoCC,EAAiCc,KAAI,SAAAI,GAAC,OAAIA,EAAEF,SAAOG,KAAK,KAC5FC,OAED,CAACpB,IAEJ,IASMoB,EAAoB,uCAAG,gCAAAb,EAAA,6DACvBc,EAAM,0DAA0DtB,EAAiC,IAAIK,EAD9E,SAEHI,MAAMa,GAFH,cAEvBZ,EAFuB,gBAGRA,EAAYC,OAHJ,OAGrBY,EAHqB,OAI3BnB,EAAWmB,EAAKC,SAJW,2CAAH,qDAOpBC,EAAkB,SAAAN,GACVO,SAASC,eAAe,yBAAyBR,EAAES,OAAOC,IAChEC,MAAMC,QAAU,SAGlBC,EAAmB,SAAAb,GACXO,SAASC,eAAe,yBAAyBR,EAAES,OAAOC,IAChEC,MAAMC,QAAU,QAIlBE,EAAgB,SAAC,GAA0F,IAAzFC,EAAwF,EAAxFA,SAASC,EAA+E,EAA/EA,kBAAkBC,EAA6D,EAA7DA,MAAMC,EAAuD,EAAvDA,gBAAgBC,EAAuC,EAAvCA,YAAYC,EAA2B,EAA3BA,SAASC,EAAkB,EAAlBA,OAAOC,EAAW,EAAXA,MAE/FC,EAAsBJ,EAAYK,QAAQ,gBAAiB,QAC/DD,EAAsBA,EAAoBC,QAAQ,kBAAmB,SAErEL,GADAA,EAAcA,EAAYK,QAAQ,gBAAiB,KACzBA,QAAQ,kBAAmB,MAErDH,EAASA,EAAOG,QAAQ,QAAS,IACjC,IAAK,IAAIC,EAAI,EAAGA,EAAI,GAAIA,IAErBJ,GADAA,EAASA,EAAOG,QAAQ,IAAIC,EAAE,IAAK,SAASA,EAAE,WAC9BD,QAAQ,KAAMC,EAAE,IAAK,QAIxC,OAEI,eAACC,EAAA,EAAD,CAAMC,UAAWhB,IAAMiB,OAAvB,UACI,eAACF,EAAA,EAAKG,KAAN,WACI,eAACH,EAAA,EAAKI,MAAN,WAAcb,EAAd,KAAuBD,EAAvB,IAA2CE,EAA3C,OACA,cAACQ,EAAA,EAAKK,IAAN,CAAUJ,UAAWhB,IAAMqB,eAAgBC,IAAKX,IAChD,eAACI,EAAA,EAAKQ,KAAN,WAAW,8CAAX,IAAiCd,EAAjC,KAA4C,4BAAID,EAAYK,QAAQ,QAAS,SAC7E,cAACW,EAAA,EAAD,CAASzB,GAAIK,EAAUqB,QAAS9B,EAAhC,4BAGJ,qBAAKI,GAAI,yBAAyBK,EAAUY,UAAWhB,IAAM0B,MAA7D,SACE,sBAAKV,UAAWhB,IAAM2B,aAAtB,UACA,sBAAM5B,GAAIK,EAAUY,UAAWhB,IAAM4B,MAAOH,QAASvB,EAArD,kBACD,mBAAGc,UAAWhB,IAAM6B,mBAApB,SAAwC,4BAAIvB,MAC5C,qBAAKU,UAAWhB,IAAMqB,eAAgBC,IAAKX,IAE3C,8BAAG,6CAAH,IAAwBF,EAAxB,OACA,qBAAKqB,wBAAyB,CAAEC,OAAQnB,KAA6B,qCACrE,4BAAG,2CAEH,qBAAKkB,wBAAyB,CAAEC,OAAQrB,cASnD,OACA,sBAAKM,UAAY,MAAjB,UACE,0BAASA,UAAahB,IAAMgC,QAA5B,UACI,8BACE,qBAAIhB,UAAWhB,IAAMiC,UAArB,mBAAsC,sBAAMjB,UAAWhB,IAAMkC,iBAAvB,yBAExC,qBAAKlB,UAAWhB,IAAMmC,UAAtB,+HAGA,eAACC,EAAA,EAAD,CAAMpB,UAAY,cAAlB,UACA,cAAC,IAAD,CACEhC,QAASA,EACTqD,aAAcC,YAAa,CAACC,eAAe,IAC3CC,WAAY,CAAEC,kBAAkB,kBAAM,MAAMC,mBAAmB,kBAAM,OACrEC,SAAO,EAAC3B,UAAahB,IAAM4C,oBAC3BC,SAAWzE,EACX0E,WAAS,EACTC,YAAa,uEAEb,sBAAK/B,UAAWhB,IAAMgD,gCAAtB,UACE,uBAAOC,QAAQ,sBAAsBjC,UAAWhB,IAAMkD,uBAAtD,gCACA,uBACAnD,GAAG,sBACHoD,KAAK,QACLnC,UAAahB,IAAMoD,uBACnBC,aAAc,GACdC,IAAI,IAAIC,IAAI,KACZV,SAjGmC,SAAAxD,GACH,GAApClB,IACFI,EAA4Bc,EAAES,OAAOX,MACrCqE,QAAQC,IAAI,0BAA0BlF,GACtCL,EAAoCC,EAAiCc,KAAI,SAAAI,GAAC,OAAIA,EAAEF,SAAOG,KAAK,KAC5FC,iBAkGF,yBAASyB,UAAahB,IAAM0D,aAA5B,SACGrF,EAAwBY,KAAI,SAACgC,EAAO0C,GAAR,OAAmB,cAACxD,EAAD,CAEhDC,SAAWa,EAAM,GACjBZ,kBAAoBY,EAAM,mBAC1BX,MAASW,EAAM,MACfV,gBAAmBU,EAAM,iBACzB2C,QAAM,EAACpD,YAAeS,EAAM,YAC5BR,SAAYQ,EAAM,SAClBP,OAAUO,EAAM,OAChBN,MAASM,EAAM,aARRA,EAAM,aCrInB4C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFnE,SAASC,eAAe,U,kBCP1BmE,EAAOC,QAAU,CAAC,QAAU,uBAAuB,UAAY,yBAAyB,iBAAmB,gCAAgC,UAAY,yBAAyB,oBAAsB,mCAAmC,gCAAkC,+CAA+C,uBAAyB,sCAAsC,uBAAyB,sCAAsC,aAAe,4BAA4B,OAAS,sBAAsB,mBAAqB,kCAAkC,eAAiB,8BAA8B,mBAAqB,kCAAkC,GAAK,kBAAkB,MAAQ,qBAAqB,aAAe,4BAA4B,MAAQ,wB","file":"static/js/main.87bd6572.chunk.js","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {Card,Button,Form} from 'react-bootstrap'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport style from './style.module.css';\r\nimport Select, { createFilter, } from 'react-select';\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n\r\n  const [valid_ingredient_list, setIngredients] = useState([]);\r\n  let ingredients_query_string_for_api = '';\r\n  let [users_selected_ingredients_array, updateUsersSelectedIngredients] = useState([]);\r\n  const [recipe_results_from_api, setRecipes] = useState([]);\r\n  let users_maximum_ingredients =15\r\n\r\n  useEffect(() => {getvalidingredientapiresponse();}, []);\r\n  const getvalidingredientapiresponse = async () => {\r\n    var apiresponse = await fetch(`http://80.195.31.145:8000/valid_ingredient_list/`)\r\n    const validingredientapiresponse = await apiresponse.json();\r\n    setIngredients(validingredientapiresponse.Ingredients);\r\n  }\r\n  var options = valid_ingredient_list.map(option => ({value: option,label: option}));\r\n\r\n  useEffect(() => {\r\n    if (users_selected_ingredients_array != 0) {\r\n      ingredients_query_string_for_api = (users_selected_ingredients_array.map(e => e.value).join(','))\r\n      getrecipeapiresponse();\r\n    }\r\n  }, [users_selected_ingredients_array]);\r\n\r\n  const updateUsersMaximumIngredientsSetting = e => {\r\n    if (users_selected_ingredients_array != 0) {\r\n      users_maximum_ingredients = e.target.value\r\n      console.log('max ingredients set to '+users_maximum_ingredients)\r\n      ingredients_query_string_for_api = (users_selected_ingredients_array.map(e => e.value).join(','))\r\n      getrecipeapiresponse(); \r\n    }\r\n  }\r\n\r\n  const getrecipeapiresponse = async () => {\r\n    var url = 'http://80.195.31.145:8000/search_recipes_by_ingredients/'+ingredients_query_string_for_api+\"/\"+users_maximum_ingredients\r\n    var apiresponse = await fetch(url)\r\n    const data = await apiresponse.json();\r\n    setRecipes(data.Recipes);  \r\n  }\r\n\r\n  const ShowRecipePopup = e => {\r\n    var modal = document.getElementById(\"recipePopupForRecipeID\"+e.target.id);   \r\n    modal.style.display = \"block\"; \r\n  }\r\n\r\n  const CloseRecipePopup = e => {\r\n    var modal = document.getElementById(\"recipePopupForRecipeID\"+e.target.id);\r\n    modal.style.display = \"none\";\r\n  }\r\n\r\n\r\n  const Recipe_result = ({recipeID,ingredientMatches,title,ingredientCount,ingredients,servings,method,image}) => {\r\n\r\n    let ingredientsForPopup = ingredients.replace(/<ingredient>/g, '<li>')\r\n    ingredientsForPopup = ingredientsForPopup.replace(/<\\/ingredient>/g, '</li>')\r\n    ingredients = ingredients.replace(/<ingredient>/g, '')\r\n    ingredients = ingredients.replace(/<\\/ingredient>/g, '. ')\r\n\r\n    method = method.replace(/step/g, '')\r\n    for (var i = 0; i < 30; i++) { \r\n       method = method.replace(\"<\"+i+\">\", \"<p><b>\"+i+\". </b>\")\r\n       method = method.replace(\"<\\/\"+i+\">\", \"</p>\")\r\n     }\r\n\r\n\r\n    return(\r\n\r\n        <Card className={style.recipe} >                 \r\n            <Card.Body>\r\n                <Card.Title >{title} ({ingredientMatches}/{ingredientCount})</Card.Title>\r\n                <Card.Img className={style.recipe_picture} src={image}/>\r\n                <Card.Text><b>Ingredients: </b>({servings}) <i>{ingredients.replace(/<li>/g, '')}</i></Card.Text>\r\n                <Button  id={recipeID} onClick={ShowRecipePopup}>View Recipe</Button>\r\n            </Card.Body> \r\n\r\n            <div id={\"recipePopupForRecipeID\"+recipeID} className={style.modal}>\r\n              <div className={style.modalcontent}>\r\n              <span id={recipeID} className={style.close} onClick={CloseRecipePopup}>&times;</span>\r\n             <p className={style.recipe_popup_title}><b>{title}</b></p>\r\n             <img className={style.recipe_picture} src={image}/>\r\n            \r\n             <p><b>Ingredients </b>({servings})</p>\r\n             <div dangerouslySetInnerHTML={{ __html: ingredientsForPopup }}></div><p>&nbsp;</p>\r\n             <p><b>Method: </b></p>\r\n             {/* <div>{method}</div> */}\r\n             <div dangerouslySetInnerHTML={{ __html: method }}></div>\r\n             </div>\r\n             </div>\r\n\r\n        </Card>\r\n\r\n    )\r\n  }\r\n  \r\n  return (              \r\n  <div className = \"App\">\r\n    <section className = {style.Top_Bar}> \r\n        <div >\r\n          <h1 className={style.logo_text}>Recipe<span className={style.wizard_logo_text}>Wizard</span ></h1>\r\n        </div>\r\n        <div className={style.help_text}>\r\n          Search through thousands of recipes using ingredient combinations. Get recipe ideas, use up leftover ingredients. \r\n        </div>\r\n        <Form className = \"search-form\">  \r\n        <Select \r\n          options={options} \r\n          filterOption={createFilter({ignoreAccents: false})}\r\n          components={{ DropdownIndicator:() => null, IndicatorSeparator:() => null }}\r\n          isMulti className = {style.IngredientsSelector}    \r\n          onChange ={updateUsersSelectedIngredients} \r\n          autoFocus\r\n          placeholder={<div>Start typing some ingredient names</div>}  \r\n          />\r\n          <div className={style.MaxIngredientsSelectorContainer}>\r\n            <label htmlFor=\"maximum_ingredients\" className={style.recipe_complexity_text}>Recipe Complexity:</label>\r\n            <input \r\n            id=\"maximum_ingredients\"\r\n            type=\"range\" \r\n            className = {style.MaxIngredientsSelector} \r\n            defaultValue={15}\r\n            min=\"1\" max=\"25\"\r\n            onChange ={updateUsersMaximumIngredientsSetting}>\r\n            </input>\r\n          </div>\r\n        </Form>\r\n    </section>\r\n    \r\n    <section className = {style.Recipes_Area}> \r\n      {recipe_results_from_api.map((recipe,index) => (<Recipe_result\r\n      key = {recipe['ID']} \r\n      recipeID= {recipe['ID']} \r\n      ingredientMatches= {recipe['Ingredient_Matches']} \r\n      title = {recipe['Title']} \r\n      ingredientCount = {recipe['Ingredient_Count']}\r\n      string ingredients = {recipe['Ingredients']}\r\n      servings = {recipe['Servings']} \r\n      method = {recipe['Method']} \r\n      image = {recipe['Picture_URL']} />))}\r\n    </section>\r\n  </div>\r\n  );\r\n          \r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Top_Bar\":\"style_Top_Bar__1XZY5\",\"logo_text\":\"style_logo_text__389O4\",\"wizard_logo_text\":\"style_wizard_logo_text__PLpmc\",\"help_text\":\"style_help_text__1nf27\",\"IngredientsSelector\":\"style_IngredientsSelector__YtSzJ\",\"MaxIngredientsSelectorContainer\":\"style_MaxIngredientsSelectorContainer__3M_Oa\",\"recipe_complexity_text\":\"style_recipe_complexity_text__6O-Cp\",\"MaxIngredientsSelector\":\"style_MaxIngredientsSelector__l_uFb\",\"Recipes_Area\":\"style_Recipes_Area__1LVhz\",\"recipe\":\"style_recipe__3g2OX\",\"recipe_popup_title\":\"style_recipe_popup_title__3X8Xr\",\"recipe_picture\":\"style_recipe_picture__3jeUN\",\"view_recipe_button\":\"style_view_recipe_button__2CIKi\",\"li\":\"style_li__3xZ2s\",\"modal\":\"style_modal___xEkE\",\"modalcontent\":\"style_modalcontent__2wJuK\",\"close\":\"style_close__2rQsC\"};"],"sourceRoot":""}